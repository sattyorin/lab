<?xml version="1.0"?>
<mujoco model="xmls/stir-v0.xml">
  <!-- <compiler convexhull="false" /> -->
  <option timestep="0.01" />
  <asset>
    <mesh file="../mesh/bowl5.stl" name="bowl" scale="0.001 0.001 0.001" />
  </asset>
  <default>
    <joint armature="0.1" damping="2" limited="true" />
  </default>
  <worldbody>
    <light name="light0" directional="true" diffuse=".3 .3 .3" pos="-1 -1 1" dir="1 1 -1" />
    <light name="light1" directional="true" diffuse=".3 .3 .3" pos="1 -1 1" dir="-1 1 -1" />
    <light name="light2" directional="true" diffuse=".3 .3 .3" pos="0 1 1" dir="0 -1 -1" />
    <geom name="floor" pos="0 0 0" size="1.0 1.0 .1" type="plane" condim="3" />
    <!-- <body name="bowl" pos="0 0 0.1" zaxis="0 0 1" >
      <geom name="bowl_geom" type="mesh" mesh="bowl" />
    </body> -->
    <body name="bowl" pos="0 0 0.1">
      <geom name="bowl_geom0" type="ellipsoid" size="0.08 0.08 0.01" pos="0 0 -0.012" />
      <!-- <geom name="bowl_geom0" type="cylinder" size="0.08" fromto="-1 0 -0.01 0 0 0" /> -->
      <geom name="bowl_geom1" type="cylinder" size="0.01" fromto="-0.12 0 0.1 -0.08 0 0" />
      <geom name="bowl_geom2" type="cylinder" size="0.01" fromto="0.12 0 0.1 0.08 0 0" />
      <geom name="bowl_geom3" type="cylinder" size="0.01" fromto="0 -0.12 0.1 0 -0.08 0" />
      <geom name="bowl_geom4" type="cylinder" size="0.01" fromto="0 0.12 0.1 0 0.08 0" />
      <geom name="bowl_geom5" type="cylinder" size="0.01" fromto="-0.08485 -0.08485 0.1 -0.05657 -0.05657 0" />
      <geom name="bowl_geom6" type="cylinder" size="0.01" fromto="-0.08485 0.08485 0.1 -0.05657 0.05657 0" />
      <geom name="bowl_geom7" type="cylinder" size="0.01" fromto="0.08485 -0.08485 0.1 0.05657 -0.05657 0" />
      <geom name="bowl_geom8" type="cylinder" size="0.01" fromto="0.08485 0.08485 0.1 0.05657 0.05657 0" />
      <geom name="bowl_geom9" type="cylinder" size="0.01" fromto="-0.1159 -0.031058 0.1 -0.07727 -0.02071 0" />
      <geom name="bowl_geom10" type="cylinder" size="0.01" fromto="0.1159 -0.031058 0.1 0.07727 -0.02071 0" />
      <geom name="bowl_geom11" type="cylinder" size="0.01" fromto="-0.1159 0.031058 0.1 -0.07727 0.02071 0" />
      <geom name="bowl_geom12" type="cylinder" size="0.01" fromto="0.1159 0.031058 0.1 0.07727 0.02071 0" />
      <geom name="bowl_geom13" type="cylinder" size="0.01" fromto="-0.1039 -0.06 0.1 -0.06928 -0.04 0" />
      <geom name="bowl_geom14" type="cylinder" size="0.01" fromto="0.1039 -0.06 0.1 0.06928 -0.04 0" />
      <geom name="bowl_geom15" type="cylinder" size="0.01" fromto="-0.1039 0.06 0.1 -0.06928 0.04 0" />
      <geom name="bowl_geom16" type="cylinder" size="0.01" fromto="0.1039 0.06 0.1 0.06928 0.04 0" />
      <geom name="bowl_geom17" type="cylinder" size="0.01" fromto="-0.06 -0.1039 0.1 -0.04 -0.06928 0" />
      <geom name="bowl_geom18" type="cylinder" size="0.01" fromto="0.06 -0.1039 0.1 0.04 -0.06928 0" />
      <geom name="bowl_geom19" type="cylinder" size="0.01" fromto="-0.06 0.1039 0.1 -0.04 0.06928 0" />
      <geom name="bowl_geom20" type="cylinder" size="0.01" fromto="0.06 0.1039 0.1 0.04 0.06928 0" />
      <geom name="bowl_geom21" type="cylinder" size="0.01" fromto="-0.031058 -0.1159 0.1 -0.02071 -0.07727 0" />
      <geom name="bowl_geom22" type="cylinder" size="0.01" fromto="0.031058 -0.1159 0.1 0.02071 -0.07727 0" />
      <geom name="bowl_geom23" type="cylinder" size="0.01" fromto="-0.031058 0.1159 0.1 -0.02071 0.07727 0" />
      <geom name="bowl_geom24" type="cylinder" size="0.01" fromto="0.031058 0.1159 0.1 0.02071 0.07727 0" />
    </body>
    <body name="ingredient0" pos="0.03 0.03 0.12">
      <geom name="ingredient0_geom" type="box" size="0.015 0.015 0.015" rgba="1.0 0 0 0.8" />
      <joint name="ingredient0_joint" type="free" />
    </body>
    <body name="ingredient1" pos="-0.02 0.02 0.12">
      <freejoint name="ingredient1_joint" />
      <geom name="ingredient1_geom" type="box" size="0.015 0.015 0.015" rgba="1.0 0 0 0.8" />
    </body>
    <body name="ingredient2" pos="0.03 -0.02 0.12">
      <freejoint name="ingredient2_joint" />
      <geom name="ingredient2_geom" type="box" size="0.015 0.015 0.015" rgba="0 1.0 0 0.8" />
    </body>
    <body name="ingredient3" pos="-0.03 -0.03 0.12">
      <freejoint name="ingredient3_joint" />
      <geom name="ingredient3_geom" type="box" size="0.015 0.015 0.015" rgba="0 1.0 0 0.8" />
    </body>
    <!-- TODO(sara): refer to https://github.com/deepmind/mujoco/blob/main/test/engine/testdata/refsite.xml -->
    <body name="tool" pos="0 0 0.1">
      <geom name="tool_position_geom" type="sphere" size="0.001" pos="0 0 0.3" />
      <joint name="tool_position_x_joint" type="slide" pos="0 0 0" axis="1 0 0" range="-0.1 0.1" margin="0.001" />
      <joint name="tool_position_y_joint" type="slide" pos="0 0 0" axis="0 1 0" range="-0.1 0.1" margin="0.001" />
      <!-- <joint name="tool_position_z_joint" type="slide" pos="0 0 0" axis="0 0 1" range="0.0 0.06" margin="0.001" /> -->
      <body name="tool_pose" pos="0 0 0">
        <geom name="tool1_geom" type="cylinder" size="0.006" fromto="0.01 0 0.3 0.008 0 0" />
        <geom name="tool2_geom" type="cylinder" size="0.006" fromto="-0.01 0 0.3 -0.008 0 0" />
        <!-- <joint name="tool_pose_r_joint" type="hinge" pos="0 0 0" axis="1 0 0" range="-45.0 45.0" margin="0.01" />
        <joint name="tool_pose_p_joint" type="hinge" pos="0 0 0" axis="0 1 0" range="-45.0 45.0" margin="0.01" />
        <joint name="tool_pose_y_joint" type="hinge" pos="0 0 0" axis="0 0 1" range="-45.0 45.0" margin="0.01" /> -->
      </body>
    </body>
  </worldbody>
  <contact>
    <pair name="contact_pair0" geom1="bowl_geom0" geom2="ingredient0_geom" condim="3" friction="1 1 0.005 0.1 0.1" />
    <pair name="contact_pair1" geom1="bowl_geom0" geom2="ingredient1_geom" condim="3" friction="1 1 0.005 0.1 0.1" />
    <pair name="contact_pair2" geom1="bowl_geom0" geom2="ingredient2_geom" condim="3" friction="1 1 0.005 0.1 0.1" />
    <pair name="contact_pair3" geom1="bowl_geom0" geom2="ingredient3_geom" condim="3" friction="1 1 0.005 0.1 0.1" />
  </contact>
  <actuator>
    <general name="tool_position_x_motor" ctrllimited="true" ctrlrange="-0.1 0.1" gear="1"
    joint="tool_position_x_joint" gainprm="40 0 0" biastype="affine" biasprm="0 -40 -0.2" />
    <general name="tool_position_y_motor" ctrllimited="true" ctrlrange="-0.1 0.1" gear="1"
    joint="tool_position_y_joint" gainprm="40 0 0" biastype="affine" biasprm="0 -40 -0.2" />
    <!-- <motor name="tool_position_z_motor" ctrllimited="true" ctrlrange="-0.01 0.01" gear="40"
    joint="tool_position_z_joint" /> -->
    <!-- <motor name="tool_pose_r_motor" ctrllimited="true" ctrlrange="-0.001 0.001" gear="40" joint="tool_pose_r_joint" />
    <motor name="tool_pose_p_motor" ctrllimited="true" ctrlrange="-0.001 0.001" gear="40" joint="tool_pose_p_joint" />
    <motor name="tool_pose_y_motor" ctrllimited="true" ctrlrange="-0.001 0.001" gear="40" joint="tool_pose_y_joint" /> -->
  </actuator>
</mujoco>
